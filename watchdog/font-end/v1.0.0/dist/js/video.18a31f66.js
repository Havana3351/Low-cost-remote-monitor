(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video"],{"0001":function(e,t,a){},"272f":function(e,t,a){"use strict";var i=a("d1dd"),o=a.n(i);o.a},"5bb0":function(e,t,a){"use strict";var i=a("dcee"),o=a.n(i);o.a},6081:function(e,t,a){"use strict";var i=a("0001"),o=a.n(i);o.a},"8dcd":function(e,t,a){},9341:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("NavMenu"),a("Breadcrumb",{attrs:{id:"Breadcrumb"}}),a("Avatar",{attrs:{id:"Avatar"}}),a("el-divider",{attrs:{id:"divider1"}}),a("el-tabs",{attrs:{type:"border-card",id:"tabs"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"实时视频",name:"first",id:"real"}},[a("router-view")],1),a("el-tab-pane",{attrs:{label:"历史视频",name:"second",id:"history"}},[a("router-view")],1)],1)],1)},o=[],n=(a("7f7f"),a("4cc3")),l=a("2fbc"),r=a("df3a"),s={components:{NavMenu:n["a"],Breadcrumb:l["a"],Avatar:r["a"]},data:function(){return{activeName:"first"}},mounted:function(){this.updateType()},methods:{handleClick:function(e,t){console.log(e,t),"first"===e.name?this.$router.push("/video/realtime"):this.$router.push("/video/historytime")},updateType:function(){var e=this.$route.path;console.log(e),"/video/realtime"===e?this.activeName="first":"/video/historytime"===e?this.activeName="second":this.$router.push("/video/realtime"),console.log(e)}}},c=s,u=(a("5bb0"),a("2877")),d=Object(u["a"])(c,i,o,!1,null,null,null);t["default"]=d.exports},c460:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"Picker"}},[a("DatePicker",{attrs:{id:"DatePicker"}}),a("TimePicker",{attrs:{id:"TimePicker"}})],1),a("hr",{staticStyle:{"background-color":"snow",border:"none"}}),a("div",{attrs:{id:"TableDiv"}},[a("Table",{attrs:{id:"Table"}})],1),a("VideoCard",{attrs:{id:"VideoCard"}})],1)},o=[],n=a("4cc3"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("请选择视频所在的日期与时间：")]),a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:e.getdate},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1)},r=[],s=a("7618"),c=a("4360"),u=a("44c2"),d={data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},value2:"",info:null}},methods:{getdate:function(){var e=this;console.log(String(this.value2)),c["a"].commit("video/setDataValue",String(this.value2)),console.log(c["a"].state.video.dataValue);var t=c["a"].state.video.dataValue,a=c["a"].state.video.timeValue,i=Object(u["a"])("username");if(console.log(i),console.log(t),console.log(a),null!=a&&(this.$axios.post("http://47.95.11.87/api/videosavedata",{recorddate:t,recordminute:a,username:i}).then(function(t){return e.info=t}).catch(function(e){console.log(e)}),null!=this.info)){console.log(Object(s["a"])(this.info)),console.log(this.info);var o=this.info.data;console.log(Object(s["a"])(o)),console.log(o);var n=JSON.parse(o);console.log(Object(s["a"])(n)),console.log(n),c["a"].commit("video/setTableValue",n),console.log(c["a"].state.video.tableValue),c["a"].commit("video/setDataValue",null),c["a"].commit("video/setTimeValue",null)}}}},m=d,v=a("2877"),f=Object(v["a"])(m,l,r,!1,null,null,null),p=f.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"55%"},attrs:{data:e.tableData1,stripe:"","max-height":"470"},on:{"row-dblclick":e.getPicture}},[a("el-table-column",{attrs:{fixed:"",prop:"date",label:"日期",width:"150"}}),a("el-table-column",{attrs:{fixed:"",prop:"time",label:"时间",width:"150"}}),a("el-table-column",{attrs:{prop:"name",label:"用户名",width:"120"}}),a("el-table-column",{attrs:{prop:"address",label:"地址",width:"300"}})],1)},g=[],b={methods:{deleteRow:function(e,t){t.splice(e,1)},getPicture:function(e){var t=this;null==c["a"].state.video.realVideoTimer&&(c["a"].commit("video/setRealVideoTimer",!0),this.timer=setInterval(function(){return t.postHisPic(e)},500))},postHisPic:function(e){var t=this;console.log(e.date);var a=e.date,i=e.time,o=Object(u["a"])("username");if(console.log(o),this.$axios({method:"post",url:"http://47.95.11.87/api/videorecord",data:{picturedate:a,time:i,username:o},responseType:"blob"}).then(function(e){return t.info=e}).catch(function(e){console.log(e)}),this.data<9&&null!=this.info.data){console.log(Object(s["a"])(this.info)),console.log(this.info);var n=this.info.data,l=window.URL.createObjectURL(n);c["a"].commit("video/setPictureValue",l),console.log(c["a"].state.video.pictureValue),this.data++}else(this.data>=9||null==this.info.data)&&(console.log(this.info.data),window.clearInterval(this.timer),this.timer=null,c["a"].commit("video/setRealVideoTimer",null))}},data:function(){return{info:null,timer:null,data:1}},computed:{tableData1:function(){return c["a"].state.video.tableValue.tables}}},w=b,k=Object(v["a"])(w,h,g,!1,null,null,null),x=k.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围",format:"HH:mm","value-format":"HH:mm"},on:{change:e.getTime},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)},V=[],D={data:function(){return{value1:[new Date(2016,9,10,8,40),new Date(2016,9,10,9,40)],info:null}},methods:{getTime:function(){var e=this;console.log(String(this.value1)),c["a"].commit("video/setTimeValue",String(this.value1));var t=c["a"].state.video.dataValue,a=c["a"].state.video.timeValue,i=Object(u["a"])("username");if(console.log(i),console.log(t),console.log(a),null!=t&&(this.$axios.post("http://47.95.11.87/api/videosavedata",{recorddate:t,recordminute:a,username:i}).then(function(t){return e.info=t}).catch(function(e){console.log(e)}),null!=this.info)){console.log(Object(s["a"])(this.info)),console.log(this.info);var o=this.info.data;console.log(Object(s["a"])(o)),console.log(o);var n=JSON.parse(o);console.log(Object(s["a"])(n)),console.log(n),c["a"].commit("video/setTableValue",n),console.log(c["a"].state.video.tableValue),c["a"].commit("video/setDataValue",null),c["a"].commit("video/setTimeValue",null)}}}},y=D,O=Object(v["a"])(y,T,V,!1,null,null,null),_=O.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",e._l(1,function(t,o){return i("el-col",{key:t,attrs:{span:8,offset:o>0?2:0}},[i("el-card",{attrs:{"body-style":{padding:"0px"},id:"card2"}},[i("el-image",{ref:"img",refInFor:!0,staticClass:"image",attrs:{src:e.pictrueData}},[i("div",{staticClass:"image",attrs:{slot:"error"},slot:"error"},[i("img",{attrs:{src:a("cf05"),id:"text1"}})])]),i("div",{staticStyle:{padding:"14px"}},[i("span"),i("div",{staticClass:"bottom clearfix"})])],1)],1)}),1)],1)},C=[],$={data:function(){return{currentDate:new Date}},computed:{pictrueData:function(){return c["a"].state.video.pictureValue}}},P=$,N=(a("6081"),Object(v["a"])(P,j,C,!1,null,null,null)),S=N.exports,E=a("2fbc"),H={components:{NavMenu:n["a"],DatePicker:p,Table:x,TimePicker:_,VideoCard:S,Breadcrumb:E["a"]}},M=H,I=(a("de50"),Object(v["a"])(M,i,o,!1,null,null,null));t["default"]=I.exports},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},d1dd:function(e,t,a){},dcee:function(e,t,a){},de50:function(e,t,a){"use strict";var i=a("8dcd"),o=a.n(i);o.a},f08c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("VideoCard")],1)},o=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"card1"}},[i("el-row",e._l(1,function(t,o){return i("el-col",{key:t,attrs:{span:8,offset:o>0?2:0}},[i("el-card",{attrs:{"body-style":{padding:"0px"}}},[i("el-image",{staticClass:"image",attrs:{src:"http://47.95.11.87/api/video",id:"randimg"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{attrs:{src:a("cf05")}})])]),i("div",{staticStyle:{padding:"14px"}},[i("span",[e._v("实时视频")]),i("div",{staticClass:"bottom clearfix"},[i("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])],1)],1)}),1)],1)},l=[],r={data:function(){return{currentDate:new Date,value:0,timer:null}},mounted:function(){this.$nextTick(function(){null==this.timer&&(this.value++,console.log(this.value),this.timer=setInterval(function(){document.querySelector("#randimg").src="http://47.95.11.87/api/video?"+Math.random()},500))})},beforeDestroy:function(){window.clearInterval(this.timer),this.timer=null}},s=r,c=(a("272f"),a("2877")),u=Object(c["a"])(s,n,l,!1,null,null,null),d=u.exports,m={components:{VideoCard:d}},v=m,f=Object(c["a"])(v,i,o,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=video.18a31f66.js.map